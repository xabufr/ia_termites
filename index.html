<! DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" />
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="https://konami-js.googlecode.com/files/konami.1.3.3.js"></script>
    <script type="text/javascript" src="./vector.js"></script>
    <script type="text/javascript" src="./world.js"></script>
    <script type="text/javascript" src="./agent.js"></script>
    <script type="text/javascript" src="./expert_system/rule.js"></script>
    <script type="text/javascript" src="./expert_system/fact.js"></script>
    <script type="text/javascript" src="./expert_system/engine.js"></script>
    <script type="text/javascript" src="./expert_system/expert_system.js"></script>
    <script type="text/javascript" src="./termite.js"></script>
    <script type="text/javascript" src="./wood_heap.js"></script>
    <script type="text/javascript" src="./wall.js"></script>
    <script type="text/javascript" src="./world_solver.js"></script>
    <script type="text/javascript" src="./random.js"></script>
    <script type="text/javascript" src="./lib/pixi.js"></script>
    <script type="text/javascript" src="./pixi_context.js"></script>
    <script language="javascript">
        var pixi_context = null;
        function init() {
            pixi_context = new PIXI_Context(600, 600, document.getElementById("canvas"));
            pixi_context.reset({
                heaps: 10,
                walls: 5,
                termites: 50
            });

            window.setInterval(function() {
               console.log(pixi_context.getFPS());
            }, 1000);
        }

        function resetWorld() {
            pixi_context.reset({
                heaps: parseInt(document.getElementById("heaps").value),
                walls: parseInt(document.getElementById("walls").value),
                termites: parseInt(document.getElementById("termites").value)
            });
        }
    </script>
</head>
<body onLoad="init();" style="background-image: url('http://static.panoramio.com/photos/large/5671969.jpg'); background-size: cover;">
<canvas id="canvas" width="600" height="600" style="border: 1px solid black; border-radius: 5px;">
</canvas>
<div class="panel panel-default col-md-4" style="min-height: 466px; background-color: rgba(255,255,255,0.6); border-color: black;">
    <div class="panel-heading" style="background-color: rgba(0,0,0,0);">
        <h3 class="panel-title">Settings</h3>
    </div>
    <div class="panel-body">
        <div>
            <input id="game_state" class="btn btn-primary" type="button" value="Play/Pause" onclick="pixi_context.togglePlay();"/>
            <input id="reset" class="btn btn-danger" type="button" value="Reset world" onclick="resetWorld();"/>
            <input type="button" class="btn btn-primary" id="debug" value="Toggle debug" onclick="pixi_context.toggleDebug();"/>
        </div>
        <br/>
        <div class="input-group">
            <span class="input-group-addon" style="background-color: transparent"><label for="termites">Termites</label></span>
            <input type="number" id="termites" min="1" max="200" class="form-control" style="background-color: transparent; color: blue" value="50"/>
        </div>
        <div class="input-group">
            <span class="input-group-addon" style="background-color: transparent"><label for="walls">Murs</label></label></span>
            <input type="number" id="walls" min="1" max="20" class="form-control" style="background-color: transparent; color: blue" value="6"/>
        </div>
        <div class="input-group">
            <span class="input-group-addon" style="background-color: transparent"><label for="heaps">Tas de bois</label></span>
            <input type="number" id="heaps" min="1" max="50" class="form-control" style="background-color: transparent; color: blue" value="6"/>
        </div>
        <div class="input-group">
            <span class="input-group-addon" style="background-color: transparent"><label for="world_width">Taille du monde</label></span>
            <input type="number" id="world_width" min="1" max="600" class="form-control" style="background-color: transparent; color: blue" value="600"/>
            <input type="number" id="world_height" min="1" max="700" class="form-control" style="background-color: transparent; color: blue" value="600"/>
        </div>
    </div>
</div>
</div>
</body>
</html>